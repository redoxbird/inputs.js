<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Inputs.js</title>
    <script src="https://cdn.twind.style"></script>
</head>

<body class="bg-gray-50">
    <h1 class="text-2xl font-bold mb-6 bg-violet-700 text-white px-8 py-4">Inputs.js</h1>

    <div class="container p-8">
        <form method="get" action="/" id="demoForm" class="container grid grid-cols-3 gap-12">
            <input-email
                name="email"
                label="Email"
                placeholder="you@example.com"
                autocomplete="email"
                required
                validate-on="blur"
            >
            </input-email>

            <input-text
              name="text"
              value="user@example.com"
              label="Email"
              description="Enter your email address"
              placeholder="user@example.com"
              validate-on="blur"
              required
              min="5"
              min-message="Minimum length is 5 characters"
              max="100"
              regex="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
              includes="gmail"
              lowercase="true"
              starts-with="user"
              action-button="copy"
            >
            </input-text>

            <input-text
              name="url"
              label="Website"
              placeholder="https://example.com"
              validate-on="blur"
              url
              required
            >
            </input-text>

            <input-text
              name="emoji"
              label="Emoji"
              placeholder="ðŸ˜Š"
              validate-on="blur"
              format="emoji"
              required
            >
            </input-text>

            <input-text
              name="ip4"
              label="IPv4"
              placeholder="192.168.0.1"
              validate-on="blur"
              format="ipv4"
              starts-with="192"
              required
            >
            </input-text>

            <input-text
              name="date"
              label="Date"
              placeholder="2022-01-01"
              validate-on="blur"
              format="iso-date"
              required
            >
            </input-text>

            <input-text
              name="date-time"
              label="Date Time"
              placeholder="2022-01-01T12:00:00"
              validate-on="blur"
              format="iso-datetime"
              required
            >
            </input-text>

            <input-text
                name="base64"
                label="Base64"
                placeholder="SGVsbG8gd29ybGQ="
                validate-on="blur"
                format="base64"
                required
            >
            </input-text>

            <input-text
                name="base64url"
                label="Base64URL"
                placeholder="SGVsbG8gd29ybGQ="
                validate-on="blur"
                format="base64url"
                required
            >
            </input-text>

            <input-text
              name="uuid"
              label="UUID"
              placeholder="e1a6a0d3-3024-4158-a42b-8e2bb041f7f6"
              validate-on="blur"
              format="uuid"
              required
            >
            </input-text>

            <input-text
              name="cuid"
              label="CUID"
              placeholder="c1a6a0d3-3024-4158-a42b-8e2bb041f7f6"
              validate-on="blur"
              format="cuid"
              required
            >
            </input-text>

            <input-text
              name="cuid2"
              label="CUID2"
              placeholder="c1a6a0d3-3024-4158-a42b-8e2bb041f7f6"
              validate-on="blur"
              format="cuid2"
              required
            >
            </input-text>

            <input-number
                name="amount"
                label="Amount"
                placeholder="100"
                validate-on="blur"
                format="number"
                gt="10"
                required
            >
            </input-number>
        </form>
    </div>
    <script src="./dist/index.js"></script>

    <script>
        // ---------------------------------------------------------------
        // 15. Demo Form Submission
        // ---------------------------------------------------------------

        document.querySelector("input-email").addEventListener("input:error", (e) => {
            console.log("Current value:", e.target.value);
        });

        document.getElementById("demoForm").addEventListener("submit", async (e) => {
            const emailEl = e.target.querySelector("input-email");
            const result = await emailEl.validate();
            if (!result.valid) {
                e.preventDefault();
                console.error("Validation failed:", result.error);
            }
        });
    </script>

    <style>

    /* Inputs.js Minimal Styles (v0.2) */
    /* Styling-agnostic: Override with Tailwind, CSS modules, etc. These provide basic layout + error states. */

    /* Core wrapper: Flex column for vertical stack */
    .input-wrapper {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      font-family: system-ui, sans-serif;
      font-size: 1rem;
      position: relative;
    }

    /* Label: Bold, associated with input */
    .input-label {
      font-weight: 600;
      color: #374151; /* gray-700 */
      margin-bottom: 0.125rem;
    }

    /* Input: Clean native-like with focus ring */
    .input-input {
      padding: 0.5rem 0.75rem;
      border: 1px solid #d1d5db; /* gray-300 */
      border-radius: 0.375rem;
      background: #fff;
      color: #111827; /* gray-900 */
      font-size: 1rem;
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    .input-input:focus {
      outline: none;
      border-color: #3b82f6; /* blue-500 */
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); /* blue-500/10 */
    }

    .input-input:disabled {
      background: #f9fafb; /* gray-50 */
      color: #9ca3af; /* gray-400 */
      cursor: not-allowed;
    }

    /* Description: Subtle helper text */
    .input-description {
      font-size: 0.875rem;
      color: #6b7280; /* gray-500 */
      margin: 0;
    }

    /* Error container: Hidden by default */
    .input-error {
      display: none;
      font-size: 0.875rem;
      color: #dc2626; /* red-600 */
      margin: 0.125rem 0 0 0;
      font-weight: 500;
    }

    .input-action {
        position: absolute;
        right: 0;
        top: 0;
        font-size: 0.8rem;
        font-weight: 600;
        background-color: #eee;
        border-radius: 0.25rem;
        padding: 0.25rem 0.5rem;
        cursor: pointer;
    }

    /* Error visible: Show error text */
    .input-error-visible {
      display: block;
    }

    /* Input error state: Red border + focus */
    .input-input-error {
      border-color: #dc2626; /* red-600 */
      background-color: #fef2f2; /* red-50 */
    }

    .input-input-error:focus {
      border-color: #dc2626;
      box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1); /* red-600/10 */
    }

    /* Inline variant: Horizontal layout */
    .input-wrapper.inline {
      flex-direction: row;
      align-items: center;
      gap: 0.75rem;
    }

    .input-wrapper.inline .input-label {
      flex-shrink: 0;
      margin-bottom: 0;
      white-space: nowrap;
    }

    .input-wrapper.inline .input-input {
      flex: 1;
    }

    .input-wrapper.inline .input-description,
    .input-wrapper.inline .input-error {
      position: absolute;
      left: -9999px; /* Hidden off-screen for inline */
    }

    /* Responsive: Stack on small screens */
    @media (max-width: 640px) {
      .input-wrapper.inline {
        flex-direction: column;
        align-items: stretch;
      }
    }
    </style>

</body>

</html>
